parameters:
    trancheAge: # prix exprimé en euros age + prix
        0: 0
        4: 8
        12: 16
        60: 12

    reducBillet: 10

services:
#    lo_platform.example:
#        class: LO\PlatformBundle\Example
#        arguments: ["@service_id", "plain_value", "%parameter%"]

    lo_platform.calculBillet:
        class: LO\PlatformBundle\Services\CalculBillet
        arguments: ["%trancheAge%", "%reducBillet%"]


    lo_platform.twig.extension.calculbillet:
        class: LO\PlatformBundle\Services\CalculBilletTwigExtension
        arguments:
            - "@lo_platform.calculBillet"
        tags:
            -  { name: twig.extension }


    #
    lo_platform.services.antispam_extension:
        class: LO\PlatformBundle\Services\AntispamExtension
        arguments:
            - "@lo_platform.antispam"
            - "%reducBillet%"
        tags:   #Permet de rajouter une extension, une fonction à twig
            -  { name: twig.extension }



    lo_platform.antispam:
        class: LO\PlatformBundle\Services\LOAntispam
        arguments:
            - "@mailer"
            - 50
        calls:
            - [ setLocale, [%locale%] ]


    lo_platform.validator.limiteBillet:
        class: LO\PlatformBundle\Validator\LimiteBilletsValidator
        arguments:
            - "@doctrine.orm.entity_manager"
        tags:
            - { name: validator.constraint_validator, alias: limiteBillet_validator}


    lo_platform.session.commande:
        class: LO\PlatformBundle\Services\SessionCommande
        arguments:
            - "@request_stack"